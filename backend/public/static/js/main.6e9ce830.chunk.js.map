{"version":3,"sources":["components/landing/Footer.js","contexts/CurrentUserContext.js","components/Card.js","images/logo_russia.svg","components/landing/Header.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","components/Login.js","components/InfoTooltip.js","utils/auth.js","images/Union(black).jpg","images/Union.jpg","components/Register.js","components/ProtectedRoute.js","utils/Api.js","utils/utils.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Spinner.js","components/App.js","reportWebVitals.js","index.js"],"names":["Footer","className","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","src","link","alt","name","length","Header","children","logo","Main","onEditProfile","onAddPlace","onEditAvatar","cards","to","avatar","about","map","PopupWithForm","title","isOpen","onClose","buttonTitle","onSubmit","onCloseEscOverlay","useState","onOpenTimeOut","setOnOpenTimeOut","useEffect","document","addEventListener","setTimeout","removeEventListener","ImagePopup","Login","id","placeholder","required","minLength","maxLength","autoComplete","InfoTooltip","imageLink","textMessage","popupOpenClass","setPopupOpenClass","width","BASE_URL","handleResponse","res","ok","json","Promise","reject","status","withRouter","history","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","image","text","resultMessage","setResultMessage","inputValues","setInputValues","handleChange","e","target","value","preventDefault","email","password","messageText","console","log","fetch","method","headers","Accept","body","JSON","stringify","then","push","catch","err","unSuccesImage","finally","onChange","ProtectedRoute","Component","component","props","loggedIn","api","url","this","_url","_headers","_getResponseValue","data","response","authorization","EditProfilePopup","onUpdateUser","setName","description","setDescription","evt","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","AddPlacePopup","setLink","Spinner","App","useHistory","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isCardDeletePopupOpen","setIsCardDeletePopupOpen","setCurrentUser","setCards","isLoading","setIsLoading","selectedCard","setSelectedCard","deleteCard","setDeleteCard","closeAllPopups","popupCloseEscOverlay","key","classList","contains","getInfoAboutUser","currentUserData","getCards","Provider","path","changeLikeCardStatus","newCardSomeLike","state","c","exact","setInfoAboutUser","onSuccess","addCard","newCard","setAvatarUser","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6e9ce830.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer wrapper\">\r\n      <p className=\"footer__copyright margin\">&copy; 2020. Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = `foto-grid__urn ${\r\n    isOwn ? \"foto-grid__urn_show\" : \"\"\r\n  }`;\r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = `foto-grid__name-heart ${\r\n    isLiked ? \"foto-grid__name-heart_black\" : \"\"\r\n  }`;\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <div className=\"foto-grid__card\">\r\n      <div\r\n        className={cardDeleteButtonClassName}\r\n        type=\"button\"\r\n        aria-label=\"Удалить\"\r\n        onClick={handleDeleteClick}\r\n      ></div>\r\n      <img\r\n        src={`${card.link}`}\r\n        alt={`${card.name}`}\r\n        onClick={handleClick}\r\n        className=\"foto-grid__item\"\r\n      />\r\n      <div className=\"foto-grid__name\">\r\n        <h2 className=\"foto-grid__name-title title-cutter\">{card.name}</h2>\r\n        <div className=\"foto-grid__likesBlock\">\r\n          <button\r\n            aria-label=\"Поставить лайк\"\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <div className=\"foto-grid__likesQty\">{card.likes.length}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","export default __webpack_public_path__ + \"static/media/logo_russia.bbe2a6ea.svg\";","import React from \"react\";\r\nimport logo from \"../../images/logo_russia.svg\";\r\n\r\nfunction Header({ children }) {\r\n  return (\r\n    <header className=\"header wrapper\">\r\n      <img src={logo} alt=\"логотип\" className=\"header__logo\" />\r\n      {children}\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport Header from \"./landing/Header.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Main({\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  onCardClick,\r\n  cards,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <>\r\n      <Header>\r\n        <Link className=\"header__button opacity\" to=\"/sign-in\">\r\n          Выйти\r\n        </Link>\r\n      </Header>\r\n      <main className=\"content\">\r\n        <section className=\"lead\">\r\n          <div className=\"lead__titles\">\r\n            <button\r\n              aria-label=\"Редактировать аватар\"\r\n              type=\"button\"\r\n              className=\"lead__avatarButton opacity\"\r\n              onClick={onEditAvatar}\r\n            ></button>\r\n            <img\r\n              className=\"lead__image\"\r\n              src={currentUser.avatar}\r\n              alt=\"Фото пользователя\"\r\n            />\r\n            <div className=\"lead__wrapper-titles\">\r\n              <div className=\"lead__wrapper-title\">\r\n                <h1 className=\"lead__title title-cutter\">{currentUser.name}</h1>\r\n                <button\r\n                  aria-label=\"Внести изменения в форму\"\r\n                  type=\"button\"\r\n                  className=\"lead__pencil opacity\"\r\n                  onClick={onEditProfile}\r\n                ></button>\r\n              </div>\r\n              <p className=\"lead__subtitle title-cutter margin\">\r\n                {currentUser.about}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <button\r\n            aria-label=\"Добавить карточку\"\r\n            type=\"button\"\r\n            className=\"lead__button opacity\"\r\n            onClick={onAddPlace}\r\n          ></button>\r\n        </section>\r\n        <section className=\"foto-grid\" aria-label=\"Фото красивых мест\">\r\n          {cards.map((card) => {\r\n            return (\r\n              <Card\r\n                key={card._id}\r\n                card={card}\r\n                onCardLike={onCardLike}\r\n                onCardDelete={onCardDelete}\r\n                onCardClick={onCardClick}\r\n              />\r\n            );\r\n          })}\r\n        </section>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\nexport default Main;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nfunction PopupWithForm({\r\n  name,\r\n  title,\r\n  isOpen,\r\n  onClose,\r\n  buttonTitle,\r\n  children,\r\n  onSubmit,\r\n  onCloseEscOverlay,\r\n}) {\r\n  const [onOpenTimeOut, setOnOpenTimeOut] = useState(false);\r\n  useEffect(() => {\r\n    document.addEventListener(\"keyup\", onCloseEscOverlay);\r\n    document.addEventListener(\"click\", onCloseEscOverlay);\r\n    setTimeout(setOnOpenTimeOut(true), 800);\r\n    return () => {\r\n      document.removeEventListener(\"keyup\", onCloseEscOverlay);\r\n      document.removeEventListener(\"click\", onCloseEscOverlay);\r\n    };\r\n  }, [isOpen, onClose, onCloseEscOverlay]);\r\n  return (\r\n    <section\r\n      className={`popup popup_type_${name} ${\r\n        onOpenTimeOut ? \"popup_opened\" : \"\"\r\n      }`}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-cross opacity\"\r\n          aria-label=\"Закрыть попап\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form\r\n          onSubmit={onSubmit}\r\n          className=\"popup__inputs\"\r\n          name={`${name}_form`}\r\n        >\r\n          {children}\r\n          <button\r\n            className=\"popup__submit-btn\"\r\n            type=\"submit\"\r\n            aria-label=\"Кнопка Сохранить\"\r\n          >\r\n            {buttonTitle}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nexport default PopupWithForm;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nfunction ImagePopup({ card, onClose, onCloseEscOverlay }) {\r\n  const [onOpenTimeOut, setOnOpenTimeOut] = useState(false);\r\n  useEffect(() => {\r\n    document.addEventListener(\"keyup\", onCloseEscOverlay);\r\n    document.addEventListener(\"click\", onCloseEscOverlay);\r\n    setTimeout(setOnOpenTimeOut(true), 800);\r\n    return () => {\r\n      document.removeEventListener(\"keyup\", onCloseEscOverlay);\r\n      document.removeEventListener(\"click\", onCloseEscOverlay);\r\n    };\r\n  }, [card.link, onClose, onCloseEscOverlay]);\r\n  return (\r\n    <div className={`foto-open popup ${onOpenTimeOut ? \"popup_opened\" : \"\"}`}>\r\n      <div className=\"foto-open__container\">\r\n        <img\r\n          className=\"foto-open__image\"\r\n          src={`${card.link}`}\r\n          alt={`${card.name}`}\r\n        />\r\n        <button\r\n          aria-label=\"Закрыть фото\"\r\n          type=\"button\"\r\n          className=\" popup__close-cross opacity\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <h2 className=\"foto-open__name\">{`${card.name}`}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from \"react\";\r\nimport \"./Login.css\";\r\nimport Header from \"./landing/Header.js\";\r\nimport { Link } from \"react-router-dom\";\r\n/* import { useRouteMatch } from \"react-router-dom\"; */\r\n\r\nfunction Login() {\r\n  /* const { path } = useRouteMatch(); */\r\n\r\n  return (\r\n    <>\r\n      <Header>\r\n        <Link className=\"header__button opacity\" to=\"/sign-up\">\r\n          Регистрация\r\n        </Link>\r\n      </Header>\r\n      <div className=\"popup__login\">\r\n        <h2 className=\"login__title\">Вход</h2>\r\n        <form className=\"popup__inputs\" name=\"popupLogin\">\r\n          <fieldset className=\"popup__inputs\">\r\n            <input\r\n              id=\"initial-input\"\r\n              type=\"email\"\r\n              name=\"e-mail\"\r\n              placeholder=\"E-mail\"\r\n              className=\"input login__input-text\"\r\n              required\r\n              minLength=\"5\"\r\n              maxLength=\"40\"\r\n            />\r\n            <span className=\"initial-input-error popup__error\"></span>\r\n            <input\r\n              id=\"rank-input\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Пароль\"\r\n              className=\"input login__input-text\"\r\n              autoComplete=\"\"\r\n              required\r\n              minLength=\"2\"\r\n              maxLength=\"8\"\r\n            />\r\n            <span className=\"rank-input-error popup__error\"></span>\r\n          </fieldset>\r\n          <button\r\n            className=\"login__submit-btn\"\r\n            type=\"submit\"\r\n            aria-label=\"Кнопка Войти\"\r\n          >\r\n            Войти\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default Login;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nfunction InfoTooltip({ onClose, imageLink, textMessage }) {\r\n  const [popupOpenClass, setPopupOpenClass] = useState(\"\");\r\n\r\n  function handleCloseClick() {\r\n    setPopupOpenClass(\"\");\r\n    onClose();\r\n  }\r\n\r\n  useEffect(() => {\r\n    setPopupOpenClass(\"popup_opened\");\r\n  }, []);\r\n\r\n  return (\r\n    <section className={`popup ${popupOpenClass}`}>\r\n      <div className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-cross opacity\"\r\n          aria-label=\"Закрыть попап\"\r\n          onClick={handleCloseClick}\r\n        ></button>\r\n        <img width=\"120px\" src={imageLink} alt=\"\" />\r\n        <p className=\"popup__title popup__infoTooltip\">{textMessage}</p>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\r\n\r\nexport function handleResponse(res) {\r\n  if (res.ok) return res.json();\r\n  return Promise.reject(res.status);\r\n}\r\n\r\nexport function register(email, password) {\r\n  console.log(email);\r\n  console.log(password);\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then((res) => handleResponse(res));\r\n}\r\n\r\nexport function authorize(email, password) {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then((res) => handleResponse(res));\r\n}\r\n\r\nexport function checkToken(token) {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then((res) => handleResponse(res));\r\n}\r\n","export default \"data:image/jpeg;base64,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\"","export default __webpack_public_path__ + \"static/media/Union.8d0172c8.jpg\";","import React, { useState } from \"react\";\r\nimport \"./Login.css\";\r\nimport Header from \"./landing/Header.js\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport * as auth from \"../utils/auth\";\r\nimport succesImage from \"../images/Union(black).jpg\";\r\nimport unSuccesImage from \"../images/Union.jpg\";\r\n\r\nfunction Register({ history }) {\r\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = useState(false);\r\n  const [resultMessage, setResultMessage] = useState({ image: null, text: \"\" });\r\n  const [inputValues, setInputValues] = useState({});\r\n\r\n  function resetForm() {\r\n    setInputValues({});\r\n  }\r\n\r\n  function handleChange(e) {\r\n    const { name, value } = e.target;\r\n    setInputValues({ ...inputValues, [name]: value });\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    let messageText = \"\";\r\n    let imageLink = null;\r\n\r\n    auth\r\n      .register(inputValues.email, inputValues.password)\r\n      .then((res) => {\r\n        resetForm();\r\n        history.push(\"/sign-in\");\r\n        messageText = \"Вы успешно зарегистрировались!\";\r\n        imageLink = succesImage;\r\n      })\r\n      .catch((err) => {\r\n        switch (err) {\r\n          case 400:\r\n            messageText = \"Ошибка 400, некорректно заполнено одно из полей\";\r\n            imageLink = unSuccesImage;\r\n            break;\r\n          default:\r\n            messageText = \"Что-то пошло не так! Попробуйте ещё раз.\";\r\n            imageLink = unSuccesImage;\r\n        }\r\n      })\r\n      .finally(() => {\r\n        setResultMessage({ image: imageLink, text: messageText });\r\n        console.log(messageText);\r\n        setIsInfoTooltipPopupOpen(true);\r\n      });\r\n  }\r\n  return (\r\n    <>\r\n      <Header>\r\n        <Link className=\"header__button opacity\" to=\"/main\">\r\n          Войти\r\n        </Link>\r\n      </Header>\r\n      {isInfoTooltipPopupOpen && (\r\n        <InfoTooltip\r\n          onClose={setIsInfoTooltipPopupOpen(false)}\r\n          imageLink={resultMessage.image}\r\n          textMessage={resultMessage.text}\r\n        />\r\n      )}\r\n      <div className=\"popup__login\">\r\n        <h2 className=\"login__title\">Регистрация</h2>\r\n        <form\r\n          className=\"popup__inputs\"\r\n          name=\"popupLogin\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <fieldset className=\"popup__inputs\">\r\n            <input\r\n              id=\"initial-input\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"E-mail\"\r\n              className=\"input login__input-text\"\r\n              required\r\n              minLength=\"5\"\r\n              maxLength=\"40\"\r\n              onChange={handleChange}\r\n            />\r\n            <span className=\"initial-input-error popup__error\"></span>\r\n            <input\r\n              id=\"rank-input\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Пароль\"\r\n              className=\"input login__input-text\"\r\n              autoComplete=\"\"\r\n              required\r\n              minLength=\"2\"\r\n              maxLength=\"8\"\r\n              onChange={handleChange}\r\n            />\r\n            <span className=\"rank-input-error popup__error\"></span>\r\n          </fieldset>\r\n          <button\r\n            className=\"login__submit-btn\"\r\n            type=\"submit\"\r\n            aria-label=\"Кнопка Войти\"\r\n          >\r\n            Зарегистрироваться\r\n          </button>\r\n          <div className=\"register__question\">\r\n            Вы уже зарегистрированы?\r\n            <Link className=\"register__entryButton opacity\" to=\"/main\">\r\n              Войти\r\n            </Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withRouter(Register);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({ component: Component, ...props }) {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","import { url, token } from \"./utils.js\";\r\n\r\nclass Api {\r\n  constructor({ url, headers }) {\r\n    this._url = url;\r\n    this._headers = headers;\r\n  }\r\n  getInfoAboutUser() {\r\n    return fetch(`${this._url}users/me`, {\r\n      headers: this._headers,\r\n    }).then(this._getResponseValue);\r\n  }\r\n\r\n  setInfoAboutUser({ name, about }) {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about,\r\n      }),\r\n    }).then(this._getResponseValue);\r\n  }\r\n\r\n  setAvatarUser(data) {\r\n    return fetch(`${this._url}users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      }),\r\n    }).then(this._getResponseValue);\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(`${this._url}cards`, {\r\n      headers: this._headers,\r\n    }).then(this._getResponseValue);\r\n  }\r\n\r\n  addCard(data) {\r\n    return fetch(`${this._url}cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    }).then(this._getResponseValue);\r\n  }\r\n  deleteCard(id) {\r\n    return fetch(`${this._url}cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._getResponseValue);\r\n  }\r\n  likeCard(id) {\r\n    return fetch(`${this._url}cards/likes/${id}`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    }).then(this._getResponseValue);\r\n  }\r\n\r\n  dislikeCard(id) {\r\n    return fetch(`${this._url}cards/likes/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._getResponseValue);\r\n  }\r\n  changeLikeCardStatus(id, isLiked) {\r\n    return fetch(`${this._url}cards/likes/${id}`, {\r\n      method: isLiked ? \"DELETE\" : \"PUT\",\r\n      headers: this._headers,\r\n    }).then(this._getResponseValue);\r\n  }\r\n\r\n  _getResponseValue(response) {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${response.status}`);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: url,\r\n  headers: {\r\n    authorization: token,\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\nexport default api;\r\n","const url = \"https://mesto.nomoreparties.co/v1/cohort-26/\";\r\nconst token = \"3a9cf3fc-5610-46e8-9a9e-577623385356\";\r\nexport { url, token };\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  // Подписка на контекст\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n\r\n  // После загрузки текущего пользователя из API\r\n  // его данные будут использованы в управляемых компонентах.\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      title=\"Редактировать профиль\"\r\n      name=\"editProfile\"\r\n      buttonTitle=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n    >\r\n      <fieldset className=\"popup__inputs\">\r\n        <input\r\n          id=\"initial-input\"\r\n          type=\"text\"\r\n          name=\"name\"\r\n          placeholder=\"Имя Фамилия\"\r\n          className=\"input popup__input-text\"\r\n          /* required */\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          value={name || \"\"}\r\n          onChange={handleChangeName}\r\n        />\r\n        <span className=\"initial-input-error popup__error\"></span>\r\n        <input\r\n          id=\"rank-input\"\r\n          type=\"text\"\r\n          name=\"about\"\r\n          placeholder=\"Род деятельности\"\r\n          className=\"input popup__input-text\"\r\n          /* required */\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          value={description || \"\"}\r\n          onChange={handleChangeDescription}\r\n        />\r\n        <span className=\"rank-input-error popup__error\"></span>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const inputRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar(\r\n      {\r\n        avatar: inputRef.current.value,\r\n      },\r\n      () => {\r\n        inputRef.current.value = \"\";\r\n      }\r\n    );\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"avatar\"\r\n      onSubmit={handleSubmit}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonTitle=\"Сохранить\"\r\n    >\r\n      <fieldset className=\"popup__inputs\">\r\n        <input\r\n          ref={inputRef}\r\n          type=\"url\"\r\n          name=\"link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          className=\"input  popup__input-text\"\r\n          required\r\n        />\r\n        <span className=\"avatar-input-error popup__error\"></span>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({ name, link }, () => {\r\n      setName(\"\");\r\n      setLink(\"\");\r\n    });\r\n  }\r\n\r\n  const [name, setName] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n\r\n  function handleChangeName(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleChangeLink(evt) {\r\n    setLink(evt.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"addCard\"\r\n      buttonTitle=\"Создать\"\r\n      onSubmit={handleSubmit}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n    >\r\n      <fieldset className=\"popup__inputs\">\r\n        <input\r\n          id=\"place-input\"\r\n          type=\"text\"\r\n          name=\"placeName\"\r\n          placeholder=\"Название\"\r\n          className=\"input popup-card__input-text popup__input-text\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          onChange={handleChangeName}\r\n          value={name}\r\n          /* required */\r\n        />\r\n        <span className=\"place-input-error popup__error\"></span>\r\n        <input\r\n          id=\"link-input\"\r\n          name=\"linkName\"\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          className=\"input popup-card__input-text popup__input-text\"\r\n          /* required */\r\n          onChange={handleChangeLink}\r\n          value={link}\r\n        />\r\n        <span className=\"link-input-error popup__error\"></span>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\nexport default AddPlacePopup;\r\n","export const Spinner = () => {\r\n  return (\r\n    <div className=\"backgroundSpinner\">\r\n      <div className=\"backgroundSpinner__spinner\"></div>\r\n    </div>\r\n  );\r\n};\r\n","import \"../blocks/root/root.css\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\r\nimport Footer from \"./landing/Footer.js\";\r\nimport Main from \"./Main.js\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport ImagePopup from \"./ImagePopup.js\";\r\nimport Login from \"./Login.js\";\r\nimport Register from \"./Register.js\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport api from \"../utils/Api.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\nimport EditProfilePopup from \"./EditProfilePopup.js\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\r\nimport AddPlacePopup from \"./AddPlacePopup.js\";\r\nimport { Spinner } from \"./Spinner.js\";\r\n\r\nfunction App() {\r\n  const history = useHistory();\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isCardDeletePopupOpen, setIsCardDeletePopupOpen] = useState(false);\r\n  // переменная состояния, отвечающая за данные пользователя\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [deleteCard, setDeleteCard] = useState({});\r\n\r\n  useEffect(() => {\r\n    api\r\n      .getInfoAboutUser()\r\n      .then((currentUserData) => {\r\n        setCurrentUser(currentUserData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    api\r\n      .getCards()\r\n      .then((cards) => {\r\n        setCards(cards);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Ошибка при получении данных профиля\");\r\n      });\r\n  }, []);\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    // Отправляем запросы в API и получаем обновлённые данные карточки\r\n    api\r\n      .changeLikeCardStatus(card._id, isLiked)\r\n      .then((newCardSomeLike) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCardSomeLike : c))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function handleCardDelete(e) {\r\n    // Отправляется запрос в API и получаю массив, без удалённойкарточки\r\n    e.preventDefault();\r\n    api\r\n      .deleteCard(deleteCard._id)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== deleteCard._id));\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  //обработчики для стейтовых переменных\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddCardClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n  function handleDeleteCardClick(card) {\r\n    setDeleteCard(card);\r\n    setIsCardDeletePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n  //функция закрытия попапов\r\n  function closeAllPopups() {\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setIsCardDeletePopupOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n  function handleUpdateUser({ name, about }) {\r\n    api\r\n      .setInfoAboutUser({ name, about })\r\n      .then((currentUserData) => {\r\n        setCurrentUser(currentUserData);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function handleUpdateAvatar({ avatar }, onSuccess) {\r\n    api\r\n      .setAvatarUser({ avatar })\r\n      .then((currentUserData) => {\r\n        setCurrentUser(currentUserData);\r\n        onSuccess();\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function handleAddPlaceSubmit({ name, link }, onSuccess) {\r\n    api\r\n      .addCard({ name, link })\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        onSuccess();\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function popupCloseEscOverlay(e) {\r\n    if (e.key === \"Escape\" || e.target.classList.contains(\"popup_opened\")) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n  const loggedIn = true;\r\n  return isLoading ? (\r\n    <Spinner />\r\n  ) : (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"App\">\r\n        <Switch>\r\n          <Route path=\"/sign-in\">\r\n            <Login history={history} />\r\n          </Route>\r\n          <Route path=\"/sign-up\">\r\n            <Register history={history} />\r\n          </Route>\r\n          <ProtectedRoute\r\n            path=\"/main\"\r\n            loggedIn={loggedIn}\r\n            component={Main}\r\n            cards={cards}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddCardClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onCardClick={handleCardClick}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleDeleteCardClick}\r\n            history={history}\r\n          />\r\n          <Route exact path=\"/\">\r\n            {loggedIn ? <Redirect to=\"/main\" /> : <Redirect to=\"/sign-in\" />}\r\n          </Route>\r\n        </Switch>\r\n\r\n        <Footer />\r\n        {isEditProfilePopupOpen && (\r\n          <EditProfilePopup\r\n            onCloseEscOverlay={popupCloseEscOverlay}\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n          />\r\n        )}\r\n        {isAddPlacePopupOpen && (\r\n          <AddPlacePopup\r\n            onCloseEscOverlay={popupCloseEscOverlay}\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n          />\r\n        )}\r\n        {isEditAvatarPopupOpen && (\r\n          <EditAvatarPopup\r\n            onCloseEscOverlay={popupCloseEscOverlay}\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n        )}\r\n        {isCardDeletePopupOpen && (\r\n          <PopupWithForm\r\n            isOpen={isCardDeletePopupOpen}\r\n            onCloseEscOverlay={popupCloseEscOverlay}\r\n            title=\"Вы уверены?\"\r\n            name=\"remove\"\r\n            buttonTitle=\"Да\"\r\n            onClose={closeAllPopups}\r\n            onSubmit={handleCardDelete}\r\n          />\r\n        )}\r\n        {selectedCard.link && (\r\n          <ImagePopup\r\n            onCloseEscOverlay={popupCloseEscOverlay}\r\n            card={selectedCard}\r\n            onClose={closeAllPopups}\r\n          />\r\n        )}\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}