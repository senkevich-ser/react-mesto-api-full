(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{19:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),i=n(20),c=n.n(i),o=n(8),r=(n(31),n(25)),u=n(2),l=(n(32),n(3)),A=n(0);var f=function(){return Object(A.jsx)("footer",{className:"footer wrapper",children:Object(A.jsx)("p",{className:"footer__copyright margin",children:"\xa9 2020. Mesto Russia"})})},p=s.a.createContext();var d=function(e){var t=e.card,n=e.onCardClick,a=e.onCardLike,i=e.onCardDelete,c=s.a.useContext(p),o=t.owner._id===c._id,r="foto-grid__urn ".concat(o?"foto-grid__urn_show":""),u=t.likes.some((function(e){return e._id===c._id})),l="foto-grid__name-heart ".concat(u?"foto-grid__name-heart_black":"");return Object(A.jsxs)("div",{className:"foto-grid__card",children:[Object(A.jsx)("div",{className:r,type:"button","aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:function(){i(t)}}),Object(A.jsx)("img",{src:"".concat(t.link),alt:"".concat(t.name),onClick:function(){n(t)},className:"foto-grid__item"}),Object(A.jsxs)("div",{className:"foto-grid__name",children:[Object(A.jsx)("h2",{className:"foto-grid__name-title title-cutter",children:t.name}),Object(A.jsxs)("div",{className:"foto-grid__likesBlock",children:[Object(A.jsx)("button",{"aria-label":"\u041f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043b\u0430\u0439\u043a",type:"button",className:l,onClick:function(){a(t)}}),Object(A.jsx)("div",{className:"foto-grid__likesQty",children:t.likes.length})]})]})]})},j=n.p+"static/media/logo_russia.bbe2a6ea.svg";var b=function(e){var t=e.children;return Object(A.jsxs)("header",{className:"header wrapper",children:[Object(A.jsx)("img",{src:j,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f",className:"header__logo"}),t]})};var h=function(e){var t=e.onEditProfile,n=e.onAddPlace,a=e.onEditAvatar,i=e.onCardClick,c=e.cards,r=e.onCardLike,u=e.onCardDelete,l=s.a.useContext(p);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(b,{children:Object(A.jsx)(o.b,{className:"header__button opacity",to:"/sign-in",children:"\u0412\u044b\u0439\u0442\u0438"})}),Object(A.jsxs)("main",{className:"content",children:[Object(A.jsxs)("section",{className:"lead",children:[Object(A.jsxs)("div",{className:"lead__titles",children:[Object(A.jsx)("button",{"aria-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",type:"button",className:"lead__avatarButton opacity",onClick:a}),Object(A.jsx)("img",{className:"lead__image",src:l.avatar,alt:"\u0424\u043e\u0442\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(A.jsxs)("div",{className:"lead__wrapper-titles",children:[Object(A.jsxs)("div",{className:"lead__wrapper-title",children:[Object(A.jsx)("h1",{className:"lead__title title-cutter",children:l.name}),Object(A.jsx)("button",{"aria-label":"\u0412\u043d\u0435\u0441\u0442\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0444\u043e\u0440\u043c\u0443",type:"button",className:"lead__pencil opacity",onClick:t})]}),Object(A.jsx)("p",{className:"lead__subtitle title-cutter margin",children:l.about})]})]}),Object(A.jsx)("button",{"aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443",type:"button",className:"lead__button opacity",onClick:n})]}),Object(A.jsx)("section",{className:"foto-grid","aria-label":"\u0424\u043e\u0442\u043e \u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0445 \u043c\u0435\u0441\u0442",children:c.map((function(e){return Object(A.jsx)(d,{card:e,onCardLike:r,onCardDelete:u,onCardClick:i},e._id)}))})]})]})};var v=function(e){var t=e.name,n=e.title,s=e.isOpen,i=e.onClose,c=e.buttonTitle,o=e.children,r=e.onSubmit,l=e.onCloseEscOverlay,f=Object(a.useState)(!1),p=Object(u.a)(f,2),d=p[0],j=p[1];return Object(a.useEffect)((function(){return document.addEventListener("keyup",l),document.addEventListener("click",l),setTimeout(j(!0),800),function(){document.removeEventListener("keyup",l),document.removeEventListener("click",l)}}),[s,i,l]),Object(A.jsx)("section",{className:"popup popup_type_".concat(t," ").concat(d?"popup_opened":""),children:Object(A.jsxs)("div",{className:"popup__container",children:[Object(A.jsx)("button",{type:"button",className:"popup__close-cross opacity","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043f\u043e\u043f\u0430\u043f",onClick:i}),Object(A.jsx)("h2",{className:"popup__title",children:n}),Object(A.jsxs)("form",{onSubmit:r,className:"popup__inputs",name:"".concat(t,"_form"),children:[o,Object(A.jsx)("button",{className:"popup__submit-btn",type:"submit","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:c})]})]})})};var x=function(e){var t=e.card,n=e.onClose,s=e.onCloseEscOverlay,i=Object(a.useState)(!1),c=Object(u.a)(i,2),o=c[0],r=c[1];return Object(a.useEffect)((function(){return document.addEventListener("keyup",s),document.addEventListener("click",s),setTimeout(r(!0),800),function(){document.removeEventListener("keyup",s),document.removeEventListener("click",s)}}),[t.link,n,s]),Object(A.jsx)("div",{className:"foto-open popup ".concat(o?"popup_opened":""),children:Object(A.jsxs)("div",{className:"foto-open__container",children:[Object(A.jsx)("img",{className:"foto-open__image",src:"".concat(t.link),alt:"".concat(t.name)}),Object(A.jsx)("button",{"aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0444\u043e\u0442\u043e",type:"button",className:" popup__close-cross opacity",onClick:n}),Object(A.jsx)("h2",{className:"foto-open__name",children:"".concat(t.name)})]})})};n(19);var m=function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(b,{children:Object(A.jsx)(o.b,{className:"header__button opacity",to:"/sign-up",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(A.jsxs)("div",{className:"popup__login",children:[Object(A.jsx)("h2",{className:"login__title",children:"\u0412\u0445\u043e\u0434"}),Object(A.jsxs)("form",{className:"popup__inputs",name:"popupLogin",children:[Object(A.jsxs)("fieldset",{className:"popup__inputs",children:[Object(A.jsx)("input",{id:"initial-input",type:"email",name:"e-mail",placeholder:"E-mail",className:"input login__input-text",required:!0,minLength:"5",maxLength:"40"}),Object(A.jsx)("span",{className:"initial-input-error popup__error"}),Object(A.jsx)("input",{id:"rank-input",type:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"input login__input-text",autoComplete:"",required:!0,minLength:"2",maxLength:"8"}),Object(A.jsx)("span",{className:"rank-input-error popup__error"})]}),Object(A.jsx)("button",{className:"login__submit-btn",type:"submit","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0412\u043e\u0439\u0442\u0438",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})},O=n(14),g=n(12);var N=function(e){var t=e.onClose,n=e.imageLink,s=e.textMessage,i=Object(a.useState)(""),c=Object(u.a)(i,2),o=c[0],r=c[1];return Object(a.useEffect)((function(){r("popup_opened")}),[]),Object(A.jsx)("section",{className:"popup ".concat(o),children:Object(A.jsxs)("div",{className:"popup__container",children:[Object(A.jsx)("button",{type:"button",className:"popup__close-cross opacity","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043f\u043e\u043f\u0430\u043f",onClick:function(){r(""),t()}}),Object(A.jsx)("img",{width:"120px",src:n,alt:""}),Object(A.jsx)("p",{className:"popup__title popup__infoTooltip",children:s})]})})},P="https://auth.nomoreparties.co";function B(e){return e.ok?e.json():Promise.reject(e.status)}var E=n.p+"static/media/Union.8d0172c8.jpg";var C=Object(l.h)((function(e){var t=e.history,n=Object(a.useState)(!1),s=Object(u.a)(n,2),i=s[0],c=s[1],r=Object(a.useState)({image:null,text:""}),l=Object(u.a)(r,2),f=l[0],p=l[1],d=Object(a.useState)({}),j=Object(u.a)(d,2),h=j[0],v=j[1];function x(e){var t=e.target,n=t.name,a=t.value;v(Object(g.a)(Object(g.a)({},h),{},Object(O.a)({},n,a)))}return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(b,{children:Object(A.jsx)(o.b,{className:"header__button opacity",to:"/main",children:"\u0412\u043e\u0439\u0442\u0438"})}),i&&Object(A.jsx)(N,{onClose:c(!1),imageLink:f.image,textMessage:f.text}),Object(A.jsxs)("div",{className:"popup__login",children:[Object(A.jsx)("h2",{className:"login__title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(A.jsxs)("form",{className:"popup__inputs",name:"popupLogin",onSubmit:function(e){e.preventDefault();var n,a,s="",i=null;(n=h.email,a=h.password,console.log(n),console.log(a),fetch("".concat(P,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:n,password:a})}).then((function(e){return B(e)}))).then((function(e){v({}),t.push("/sign-in"),s="\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!",i="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAB4AHgDAREAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+/igAoAKAOf8AFfizwr4E8N614x8ceJfD/g3wj4b0+41bxF4q8V6zp3h7w3oOlWi77rU9a1zV7mz0zS9Ptk+e4vL66gtoV+aSRRzQB/MH+1L/AMHSX7POnfES4/Z3/wCCZvwD+LX/AAU0/aHnmvNKs4vhDoXiSx+EtjqsN6ukieHxJaeGtc8WePNNs9Qkjnl1Twd4TPgXVNPaG40/4kRW90l5EAfP1r8KP+DtT/goGzaz8Qfjh+zv/wAEq/hPrnlTL4C8DWuj6j8T7bSZ4pEtbqzuvD1r8YvHtnrH2WYS6jYaz8afh1cxX5DPoWk3EEdjYgG4P+DU3xv8W5De/to/8Flf28/2j7693HVRZ6rqHh+GVJ1iNxZ27fE74hfHNVtw0YjiLWiQGGKBRYQrEsQAJP8AiC0/4JmP/ps37SH7f8uvD9+NX/4Wf8ABjUE+aC88p/2ZpLz91Isb7RqYmOzCXUTFXQArt/wam+PPhLI2pfsZ/wDBZX9u/wDZ41i0jmm0tr3VdT1qD7btg8uO7n+GfxC+CzCzuVt1trwCzuA0JiL211Hbm0uADLuvhR/wdo/8E/Yzq3w++OH7On/BVL4WaRcQFfA3jm003TvirJpMTRpeXd1d+IbX4PeMrnUJLWACK1sfjP8AEa5W4kNxBot9O9xFcAHt37L/APwdQ/s83nxGh/Z2/wCCmn7PXxi/4Jn/ALQ1tNDZ6lb/ABX8P+JNU+Fonurie20651LWL3w34d8feCLXV2jSW31DxL4Dl8F2UDTXN54/NhbtfOAf1D+D/GXhD4h+FtA8c+APFXhvxz4K8VaXaa54X8YeD9c0zxN4W8SaLfxCax1fQPEGi3V7pOsaXewsstpqGnXdxaXETCSGV0INAHSUAFABQAUAFAH5if8ABUL/AIKy/sq/8Eo/gwPib8ftfk1rxv4jjurb4TfAvwnd6fJ8S/inq9vtSX+yrC6mWPRPCelSSRP4m8cawseiaJE8drD/AGp4gvtG0DVQD+cT4bf8E5/+CoH/AAcI+I/DX7R//BWr4geKv2Pf2D1vtN8W/BT9hf4VyXHh/wAUeMNHZI7rR/EHinT9XS6fw82oadePjx/8SrPX/iRfLPq9t4Q8E/DfwxqmjajQB/Wr+yj+xV+yp+w78O4PhX+yj8DPAPwU8HKtsdRh8J6TjXvE91aRtFBqnjbxjqUl/wCL/HOtRxO0S6z4u1zWtTWEiBLpYFSNQD6hoAKACgAoAKAPlb9rP9iH9lH9uf4d3fwt/at+BvgX4yeFJ7W8trB/EmmmHxN4Ye+jEc+oeCvGulS6f4w8Fat8sbrqnhbXNJvRJFEWmYIBQB/Jn8Uv+Cc3/BUP/g328Ta3+0p/wSU+JnjT9r79gqyvL7xN8Y/2C/ixdXPifxP4S0B7S4vfEet+GNP0q1tY9ft7CS2l1KLx58LrLwr8UdJJ0PTvF3g74p+FdM8WaxfAH9Hn/BL3/grH+yp/wVd+Co+KH7P+vTaH418Orb2fxY+BXjC80mH4ofCzWpAEVtV0ywvLlNZ8G6vKJJPCPjzSgdF8Q2ySWtxHo3ifTtf8MaIAfpzQAUAFAH5jf8FY/wDgqF8Ff+CUX7KmvftAfFAr4i8a65NeeD/gV8J7O4EetfFP4oTaTeX+maUzITLpHg3RkthqvjzxdJG9t4e0UR29rHqPifWfDGga2Afib/wSD/4I/fHL9oL45/8AD5L/AILLK3xJ/a0+I02m+Lv2fv2fvF2nKfCv7OvhmJjf+CNa1fwXetdWGg+JvD1pPHN8NPhwySp8LFkPizxS+pfGPUZ7nwWAf110AFABQAUAFABQAUAFABQB/Ip/wWB/4JB/HP8AZ9+OTf8ABZb/AII2+d8Of2tPhs2o+Lv2gf2fvCOmtL4Z/aK8KhVvfGmr6L4IsDBaeIfE2vWFq7fEf4aQxxr8U0iTxT4TOnfGPTbafxoAfth/wSa/4KhfBj/gq5+yroHx++GQj8OeN9FktPCfx0+E1zdfaNX+FnxLj0+G6v8ASvNdY5NV8J63Gzax4H8TJEkWt6JJ5N1HY+INL1/RtKAP07oA5vxl4w8LfDzwh4q8f+Odf0vwr4K8DeG9c8YeMPFGuXcVhovhvwt4Z0y61rxBr+r30xWGy0vR9JsrvUdQu5WWK3tLeWaQhEJoA/iu/wCCc3wt8Tf8HBP/AAVC+Jn/AAVr/aU0S8vP2Cv2QvGl18KP2C/g54nsbRNA8W+J/DFza6rp/ifW/Dl7BcyX9voEd1ZfFHx7LqMYOrfFLxV4O8I6drmp+FfhZq/hOxAP7daACgAoAKACgAoAKACgAoAKACgD+Ij/AIKMfDbxH/wb3f8ABUD4f/8ABWr9nDw3fN+wh+2F4qj+FX7dHwU8JabGuj+EPFHiC4fWNQ8UeHtHtY7PTtPbxE9pefErwAN8C2PxI0Dxt4QudW0vwv8AEjTtGoA/tX8J+K/Dfjvwr4a8ceDta0/xJ4R8ZeH9G8V+FfEWk3C3ela94b8Q6dbavoetaZdJ8lzp+qaZeWt9Z3CfLNbTxyLwwoA/l0/4Oof2oPiNafs8/s9f8Ey/2dpprn9ob/gph8YvD/wpt9Ns5ri2mPws0vxJ4bstX0261G2glfSLXxt4+8ReA/Dd/cSMsF74Li8f2lzDcWAvlQA/oC/Yh/ZM+HX7DH7KPwN/ZS+FtpaweFPg34F03w29/bWcdjJ4n8TTGXVfGvjXUIIy3/E28a+MNQ1vxTqjPJLIb7VplMrhQaAPqmgAoAKACgAoAKACgAoAKACgAoA+Xv21f2Ufh3+3F+yp8c/2UfipAreDvjX4B1bwnNqIto7u68Ma8fL1Lwd420uCVkik1rwN4vsND8XaMsrCFtT0W1ScNA0iMAfgL/wa2/tS/ETUf2efj5/wTN/aIuJoP2iP+CZnxa134QyWWq3l7Nqt98JL7xJ4ktfDcMA1ZY9QvNN8CeLND8WeDtLlgjXT9L8Cj4b6fbw2tvLZJKAeA/Ce1T/goF/wdo/HH4har9o1f4Wf8ErP2dLXwL4GYzmXSYvirqOmW3h28tbyzSSe1TULbxl8YPjRfWsoMdw1z8OtFnuAk9hFbQAH9jNABQAUAFABQAUAFABQB8Mf8FCf+CiH7NH/AATO/Z71r9oj9pjxXJpWhwXA0XwX4K0NbS/+IHxS8ZTwvNY+DfAOg3F3ZjU9Ulije81G9uLm00bw/pMN1rOu6jYadbPNQB+an/BEz/g4D+Bf/BW+x8V/DrX/AA/pfwC/as8I3niDWj8FLrxGdasfGvw1j1O4l0bxX8OfEF7aaXP4mvPD+jy2Gn/EHSP7PtNS0vU4ZfEFrp6+G9Sh/s4A/oSoAKACgD+OL4r2rf8ABPz/AIO1Pgf8QdGb+w/hP/wVT/Z4uvA3j1YYYoNJufifp+kXXh21s7W1eSG1/ti88ffB74Lazf6lCBfy3PxF111E9xq19HfAGx/wamrJ8WvHn/BZT9szU1ju9Y/aH/bv1WybVJoV+2+Toup/EL4mT2kb+fcLbWZb402ZFnbMIVFvbIZbiO1tBbgH9gtABQAUAFABQAUAFAH58f8ABSb/AIKWfs0/8Euf2eNW+Pn7RHiLFxd/b9I+Fvwu0WeCTx98YvHFvZG6t/CnhDT5N3lW8W63l8SeKb9I/D/hLTriK81a5Fxd6XYakAf5Cf8AwUa/4KNftLf8FTP2ltX+PXx61ea6urqaTw/8KvhV4fkvZ/Bnwo8GT3pfSvA/gfSnLSTTTSNDNrmuTQtrni7XGfUtScsbOzswD+4L/g2s/wCDdbUf2bpvA3/BQ/8Abj8O6hpfx/ls1179nj4E6i11p9z8GNO1fT5beP4hfE6zjeGWT4oavpN7PDonge9Btfh/pV7Lc+JrWfx5dxab4BAP7caACgAoA/j+/wCDrISfCPxt/wAEa/20bI/Yr79nD9vPSrM6sGECRQ+INQ+HvxOW3vLgRSMbdl+Bl2wikEsIge/BglWaVWAJP+DLT5P+CZf7R8N5zrsX7f8A8T/7WM3z35z8AP2ZUj+1ztukl/0yPUyu+R8TG6cYaV2cA/r9oAKACgD+dH/g4j/4LUWn/BKv9nOy8D/BvVNHvP21fj1p9xb/AAf069tdO1y0+GPhC2v0svEnxm8VaBdzhLi3tEj1DQfh5ZahbXOma544Vrq+stY0Lwn4l0m4APmr/git/wAHQXwH/b0HhH9nT9sBfDv7On7X1yum6DoeuSXkdh8FPj/rM72thaDwZqN/P53gL4haxfTNGfhv4gnutO1Kc2z+DPFer3upv4T0EA/rDoA/Lz/gq3/wVb/Z2/4JO/s7Xvxh+MN7H4k+IXiSPUtI+B3wO0jUre18Y/Fzxja28bm2ti8dy+g+C9Be5s7vxx44u7O40/w5p9xbW9vbav4m1fw54c1sA/yMf24/26v2qP8AgqB+0xqvxs+PPiDWPHHjvxhrEegfDr4b+GYNVufC3gHRdSvorXw78M/hP4Njlv5rHT1me0tIoLVbzxB4q1qSTWdfvtb8Sane6hdAH973/BvP/wAG1uhfsl2ngn9tn9vbwnpviP8AapdtN8V/Bz4L6ps1Lw/+zkklp9o0/wAReMLNg2na98bo3uEubS3db3Sfhdd2ttdaZNd+Noo9S8NAH9mdABQAUAFAH8gX/B6X8n/BMz9m+ay516L9v/4Yf2QIPn1A5+AH7TLy/Y4F3SS/6ZHpgbZG+JjaocNKiuAR/wDBqaZPhH42/wCCyn7F16PsV9+zh+3nqt4NJKrBHFD4g1D4hfDFriztzLIxt2X4GWqmSMyQiBrArPKk0TEA/sBoAKACgD8fP+Cr3/BFH9kH/grP4C+zfFvR5Ph58evDmhy6V8MP2lPBWm2cnj3wisQ1C50zQ/EthNLZ2vxF+HcOrajPqF94J1m9sZQZ79/C/iLwjquoT6xQB/lh/wDBTP8A4JJ/tg/8ErPiivgj9ovwU154D8Q6lqFt8Lvjt4RhvdR+FPxOs7R5pI10nW5LeM6J4qjsI1vdX8CeIFsvE2kxP9q+y3ukSWer3gB+xv8AwSx/4Ou/2q/2Hfhnf/A/9prwpqn7ZXwz8O+E9Qs/g5rPiPxrPo3xY8B6xY6fev4Z8Ma1461Ow1+fxp8N5L/+z9JaDWoZvE3gzQ1z4d1PUtL0rTvCDgH4Jftbftd/tZf8FRP2p7z4u/GfV/EXxb+NHxP17TvCHgDwH4T0vU76w0Cy1TV5IPB3wk+EXgixbUbuy0W0v9UFhoWhWC3+s61qt7caprF5rnifWNU1W/AP9Cr/AIN6v+DcDQv2ErXwz+2N+2voGj+Kv2zLy3kvvh98OZZ9N8QeEf2aLG8jEcN6lxbG703xD8aLi1aUX3iSzurrR/BUF0+keFnudTju/Et0Af160AFABQAUAFAH8fX/AAdZNJ8WvHf/AARr/Yy0xo7vWP2h/wBu/Sr1dLhmAvfJ0XUvh78M4LyRPIuFtrMt8abwG8uVEKi3uJFiuI7W7NuAY/wnum/4J+f8Hafxx+Husr/Yfwn/AOCqn7PFr458BPNNFb6Tc/FDT9ItfEV1eXV2kcVr/bF749+D3xp0aw02Yrfy3PxF0JWM9xqti98Af2O0AFABQAUAeT/HH4FfB/8AaV+Fni/4JfHr4d+F/ir8KPHmnrpnizwP4w05NS0XVraK4hvbSRoyUns9Q02/trXUtI1bT57TVdH1S0tNT0u9tL+1t7iMA/zgv+Cxf/Bp78df2ZdW1T42/wDBOXTPG37SvwE1TUkfUPgfBZS+Ifj58IzfTWtvFBpMVgrXHxg8Ex3k0zpq+nafY+MfDGmNbxeIdJ8QWWmat45mAP6Mv+De3/g3o8I/8E4fCWjftQftS6JoPjT9ufxjoolsLCT7Frnh39mTQNXtv9I8J+ELtDcWGpfE6/tJWs/HfxAsJJYLKJ7nwZ4JuzoB17xB44AP6o6ACgAoAKACgAoA/jm+LF1H/wAFAv8Ag7R+B3w90o3Gr/Cz/glb+zpdeOvHKiFpdJi+KuoabdeIrS6tLx45rVNQtvGXxh+C9jdRYjuGufh1rUFuyXFjLcW4B77/AMHSX7LXxE1H9nn4B/8ABTL9ne3mg/aI/wCCZfxZ0L4vR3mlWd7Nqt98JL7xJ4bu/Ek1wdJaPULzTfAfivQ/CnjDVIp5F0/S/Av/AAsjULia1t5b15QD9+/2Kv2rvh3+3F+yp8DP2rvhXOreDvjX4B0nxZDpxuY7u68Ma8fM03xj4J1SeJUik1rwN4vsNc8I6y0SiFtT0W6eAtA0bsAfUNABQAUAFABQAUAFABQAUAFABQB8rftu/tZ/Dr9hj9lH45ftW/FK7tYPCnwb8C6n4kSwubyOxk8T+JpjFpXgrwVp88gb/ibeNfGGoaJ4W0tUjlkN9q0JWJwpFAH8/v8Awav/ALL/AMRrT9nn9oX/AIKaftExTXP7Q3/BTD4w+IPitcaleQ3FrOfhZpfiTxJe6PqVtp1zPI2kWvjbx94i8eeJdPt4kWC98FxeALu2muLAWDIAf1F+LPCnhvx34V8S+B/GOi6f4k8I+MvD+s+FPFXh3VrdbvSte8N+IdOudI1zRdTtX+S50/VNMvLqxvLd/lmtp5I24Y0AfxUf8E5/iT4j/wCDe7/gqB8QP+CSn7R/iW+b9g/9sHxVJ8Vf2F/jX4t1KNdH8H+KPEFwukaf4X8QaxdyWenae3iJ7Sz+Gvj87IFsviToHgnxfbaRpfhj4kajrJAP7d6ACgAoAKACgAoAKACgAoAKACgD+Iv/AIKM/FLxN/wcEf8ABUP4Z/8ABJP9mvW7y9/YL/ZB8aWnxY/b1+Mfhm+s00Dxb4n8MXNzpWoeGNE8R2M9zJf2/h+O6vvhd4Di06UHVvil4q8YeLdR0PUvCvws0jxZYgH9qHg3wf4W+HnhDwr4A8DaBpfhXwV4G8N6H4P8H+F9DtIrDRfDfhbwzplrovh/QNIsYQsNlpej6TZWmnafaRKsVvaW8UMYCIBQB0lAH5if8FZf+CXnwX/4Kufsq6/8Afib5fhzxvosl54r+BfxZtrX7Rq/ws+JcenzWtjqvlI0cmq+E9bjZdH8ceGHlSLW9Ek861ksfEGl6BrOlAH4n/8ABH3/AIK+fHP9n344r/wRp/4LI+d8Of2tPhs2neEf2fv2gPF2pNL4Z/aJ8KhWsvBeka143vxBaeIfE2vWFqi/Dj4lzSIvxTjifwv4sGnfGLTbmDxoAf110AFABQAUAFABQAUAFABQB/Ip/wAFfP8AgsF8cf2gvjn/AMObv+CNLN8Sf2tPiNNqXhH9oD9oHwjqKnwr+zt4ZiYWHjfRdI8aWS3VhoPibw9aTyQ/Ev4jq8sfwsVx4T8LpqXxi1GC28FgH7Zf8EnP+CXvwV/4JRfsqaD8APheF8ReNdcmsvGHx1+LN5biPWvin8UJtJs7DU9VVXBm0jwboy27aV4C8IxyPbeHtFElxcyaj4n1nxPr+tgH6c0AFABQB+Y3/BUL/gk5+yp/wVd+Cp+F/wAf9Bm0Pxr4dW4vPhN8dfB9lpMPxQ+FmtSAuy6Vqd/Z3C6z4N1eYRx+LvAWqsdF8Q2yR3NvJo3ifTtA8T6IAfzh/C3/AIKM/wDBUL/g338TaJ+zX/wVs+GfjT9r39gqyvLDwx8HP29fhPaXPifxP4S0B7OCx8OaJ4n1DVbm1j8QW9hJbRadL4D+KN74V+KWkk65qPhHxh8U/Cum+E9IvgD+sz9kz9t39lH9uf4dWnxS/ZS+OXgX4yeFJ7Wzub9PDepmHxN4YkvozJBp/jXwVqsWn+MPBWrfLIjaX4p0TSb4SRSqIWCE0AfVNABQAUAFABQB8vftW/tqfsq/sO/Dqf4qftXfHPwD8FPByrcjTpvFurAa94nurSNZZ9L8E+DtNjv/ABf451qOJllbRfCOh61qiwkztarAryKAfyU/En/goz/wVA/4OEfEfiT9nD/gkp8P/FX7Hv7CC32peEvjX+3R8VI5/D/ijxfo7Rva6x4e8L6hpD3b+HW1DTrxM+Afhrea/wDEm+WfSLnxd42+G/hfVNZ0+gD+jz/gl5/wSa/ZV/4JR/Bf/hWXwB0CTWvG/iOO1ufiz8dPFdnp8nxL+Ker2+54v7VvrWFY9E8J6VJJKnhjwPo7R6JokTyXU39qeIL7Wdf1UA/TugAoAKACgAoA5vxh4N8IfEPwtr/gbx/4V8N+OfBXirS7vQ/FHg/xhoemeJvC3iTRb+Iw32ka/wCH9atb3SdY0u9hZorvT9RtLi0uImMc0ToSKAP5d/2oP+DV79nm7+I037RP/BMv9oX4xf8ABM/9oa2mmvNNn+FPiDxJqnwsE1zcQXOo22m6RZeJPDvj7wTa6u8TR3Nh4b8eTeC7KAw21n4ANhbrYuAeJWvxY/4O0f8Agn7GNK+IXwO/Z0/4KpfCzSLicN458C3emad8VZdJiMklnaWtp4duvg/4yudQe1gPm3V98FviLci4kW3n1q/ne2luADUX/g6y8d/CSRdN/bN/4I1/t3/s8axaRxQ6qtlpWpazB9t2z75LOH4mfD34LMLO5W3a5sybu4DQmUJc3UduLu4ALH/EaX/wTMf/AEOH9m/9v+XXh+5Ok/8ACsPgAMX6fLPaean7TMl5+6kWRN50wTHZl7WJiyIARH/g6z8bfFyQWX7F3/BGv9vP9o++vdo0k3elahoEEqTrKLe8uF+GPw9+OarbhozJIFulgMMc7G/hWJpQAYl18WP+DtP/AIKBsujfD34Hfs7/APBKz4Ua55sTePfHN3o+o/E+20meKN7q1vLXxDdfGHx7Zax9kmMOm3+jfBX4dXMN8Sq67pNxBJfWIB9Bfst/8Gtv7POnfES3/aI/4KZfHz4tf8FNP2h55rPVbyT4va74ksfhJY6rDetqxgm8N3XiTXPFnjvTbO/kkgi0rxh4sPgXVNPaa31D4bxW901lCAf09+FPCfhXwJ4b0Xwd4H8M+H/BvhDw3p9vpPh3wr4U0bTvDvhvQNKtE8u10zRdD0i2s9M0vT7ZPkt7KxtYLaFPljjUcUAdBQAUAFAA/9k="})).catch((function(e){switch(e){case 400:s="\u041e\u0448\u0438\u0431\u043a\u0430 400, \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439",i=E;break;default:s="\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.",i=E}})).finally((function(){p({image:i,text:s}),console.log(s),c(!0)}))},children:[Object(A.jsxs)("fieldset",{className:"popup__inputs",children:[Object(A.jsx)("input",{id:"initial-input",type:"email",name:"email",placeholder:"E-mail",className:"input login__input-text",required:!0,minLength:"5",maxLength:"40",onChange:x}),Object(A.jsx)("span",{className:"initial-input-error popup__error"}),Object(A.jsx)("input",{id:"rank-input",type:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"input login__input-text",autoComplete:"",required:!0,minLength:"2",maxLength:"8",onChange:x}),Object(A.jsx)("span",{className:"rank-input-error popup__error"})]}),Object(A.jsx)("button",{className:"login__submit-btn",type:"submit","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0412\u043e\u0439\u0442\u0438",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(A.jsxs)("div",{className:"register__question",children:["\u0412\u044b \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(A.jsx)(o.b,{className:"register__entryButton opacity",to:"/main",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})]})})),w=n(26),_=["component"];var L=function(e){var t=e.component,n=Object(w.a)(e,_);return Object(A.jsx)(l.b,{children:function(){return n.loggedIn?Object(A.jsx)(t,Object(g.a)({},n)):Object(A.jsx)(l.a,{to:"./sign-in"})}})},D=n(23),F=n(24),Q=new(function(){function e(t){var n=t.url,a=t.headers;Object(D.a)(this,e),this._url=n,this._headers=a}return Object(F.a)(e,[{key:"getInfoAboutUser",value:function(){return fetch("".concat(this._url,"users/me"),{headers:this._headers}).then(this._getResponseValue)}},{key:"setInfoAboutUser",value:function(e){var t=e.name,n=e.about;return fetch("".concat(this._url,"users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:n})}).then(this._getResponseValue)}},{key:"setAvatarUser",value:function(e){return fetch("".concat(this._url,"users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(this._getResponseValue)}},{key:"getCards",value:function(){return fetch("".concat(this._url,"cards"),{headers:this._headers}).then(this._getResponseValue)}},{key:"addCard",value:function(e){return fetch("".concat(this._url,"cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._getResponseValue)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._getResponseValue)}},{key:"likeCard",value:function(e){return fetch("".concat(this._url,"cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._getResponseValue)}},{key:"dislikeCard",value:function(e){return fetch("".concat(this._url,"cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._getResponseValue)}},{key:"changeLikeCardStatus",value:function(e,t){return fetch("".concat(this._url,"cards/likes/").concat(e),{method:t?"DELETE":"PUT",headers:this._headers}).then(this._getResponseValue)}},{key:"_getResponseValue",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}}]),e}())({url:"https://mesto.nomoreparties.co/v1/cohort-26/",headers:{authorization:"3a9cf3fc-5610-46e8-9a9e-577623385356","Content-Type":"application/json"}});var H=function(e){var t=e.isOpen,n=e.onClose,a=e.onUpdateUser,i=s.a.useContext(p),c=s.a.useState(""),o=Object(u.a)(c,2),r=o[0],l=o[1],f=s.a.useState(""),d=Object(u.a)(f,2),j=d[0],b=d[1];return s.a.useEffect((function(){l(i.name),b(i.about)}),[i]),Object(A.jsx)(v,{onSubmit:function(e){e.preventDefault(),a({name:r,about:j})},title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",name:"editProfile",buttonTitle:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:n,children:Object(A.jsxs)("fieldset",{className:"popup__inputs",children:[Object(A.jsx)("input",{id:"initial-input",type:"text",name:"name",placeholder:"\u0418\u043c\u044f \u0424\u0430\u043c\u0438\u043b\u0438\u044f",className:"input popup__input-text",minLength:"2",maxLength:"40",value:r||"",onChange:function(e){l(e.target.value)}}),Object(A.jsx)("span",{className:"initial-input-error popup__error"}),Object(A.jsx)("input",{id:"rank-input",type:"text",name:"about",placeholder:"\u0420\u043e\u0434 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438",className:"input popup__input-text",minLength:"2",maxLength:"200",value:j||"",onChange:function(e){b(e.target.value)}}),Object(A.jsx)("span",{className:"rank-input-error popup__error"})]})})};var T=function(e){var t=e.isOpen,n=e.onClose,a=e.onUpdateAvatar,i=s.a.useRef();return Object(A.jsx)(v,{title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",name:"avatar",onSubmit:function(e){e.preventDefault(),a({avatar:i.current.value},(function(){i.current.value=""}))},isOpen:t,onClose:n,buttonTitle:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:Object(A.jsxs)("fieldset",{className:"popup__inputs",children:[Object(A.jsx)("input",{ref:i,type:"url",name:"link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",className:"input  popup__input-text",required:!0}),Object(A.jsx)("span",{className:"avatar-input-error popup__error"})]})})};var k=function(e){var t=e.isOpen,n=e.onClose,a=e.onAddPlace,i=s.a.useState(""),c=Object(u.a)(i,2),o=c[0],r=c[1],l=s.a.useState(""),f=Object(u.a)(l,2),p=f[0],d=f[1];return Object(A.jsx)(v,{title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",name:"addCard",buttonTitle:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",onSubmit:function(e){e.preventDefault(),a({name:o,link:p},(function(){r(""),d("")}))},isOpen:t,onClose:n,children:Object(A.jsxs)("fieldset",{className:"popup__inputs",children:[Object(A.jsx)("input",{id:"place-input",type:"text",name:"placeName",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",className:"input popup-card__input-text popup__input-text",minLength:"2",maxLength:"30",onChange:function(e){r(e.target.value)},value:o}),Object(A.jsx)("span",{className:"place-input-error popup__error"}),Object(A.jsx)("input",{id:"link-input",name:"linkName",type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",className:"input popup-card__input-text popup__input-text",onChange:function(e){d(e.target.value)},value:p}),Object(A.jsx)("span",{className:"link-input-error popup__error"})]})})},S=function(){return Object(A.jsx)("div",{className:"backgroundSpinner",children:Object(A.jsx)("div",{className:"backgroundSpinner__spinner"})})};var W=function(){var e=Object(l.g)(),t=Object(a.useState)(!1),n=Object(u.a)(t,2),s=n[0],i=n[1],c=Object(a.useState)(!1),o=Object(u.a)(c,2),d=o[0],j=o[1],b=Object(a.useState)(!1),O=Object(u.a)(b,2),g=O[0],N=O[1],P=Object(a.useState)(!1),B=Object(u.a)(P,2),E=B[0],w=B[1],_=Object(a.useState)({}),D=Object(u.a)(_,2),F=D[0],W=D[1],y=Object(a.useState)([]),X=Object(u.a)(y,2),J=X[0],U=X[1],I=Object(a.useState)(!1),V=Object(u.a)(I,2),z=V[0],R=V[1],q=Object(a.useState)({}),K=Object(u.a)(q,2),Z=K[0],G=K[1],M=Object(a.useState)({}),Y=Object(u.a)(M,2),$=Y[0],ee=Y[1];function te(){i(!1),j(!1),N(!1),w(!1),G({})}function ne(e){("Escape"===e.key||e.target.classList.contains("popup_opened"))&&te()}return Object(a.useEffect)((function(){Q.getInfoAboutUser().then((function(e){W(e)})).catch((function(e){console.log(e)}))}),[]),Object(a.useEffect)((function(){R(!0),Q.getCards().then((function(e){U(e),R(!1)})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0444\u0438\u043b\u044f")}))}),[]),z?Object(A.jsx)(S,{}):Object(A.jsx)(p.Provider,{value:F,children:Object(A.jsxs)("div",{className:"App",children:[Object(A.jsxs)(l.d,{children:[Object(A.jsx)(l.b,{path:"/sign-in",children:Object(A.jsx)(m,{history:e})}),Object(A.jsx)(l.b,{path:"/sign-up",children:Object(A.jsx)(C,{history:e})}),Object(A.jsx)(L,{path:"/main",loggedIn:true,component:h,cards:J,onEditProfile:function(){j(!0)},onAddPlace:function(){N(!0)},onEditAvatar:function(){i(!0)},onCardClick:function(e){G(e)},onCardLike:function(e){var t=e.likes.some((function(e){return e._id===F._id}));Q.changeLikeCardStatus(e._id,t).then((function(t){U((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){console.log(e)}))},onCardDelete:function(e){ee(e),w(!0)},history:e}),Object(A.jsx)(l.b,{exact:!0,path:"/",children:Object(A.jsx)(l.a,{to:"/main"})})]}),Object(A.jsx)(f,{}),d&&Object(A.jsx)(H,{onCloseEscOverlay:ne,isOpen:d,onClose:te,onUpdateUser:function(e){var t=e.name,n=e.about;Q.setInfoAboutUser({name:t,about:n}).then((function(e){W(e),te()})).catch((function(e){console.log(e)}))}}),g&&Object(A.jsx)(k,{onCloseEscOverlay:ne,isOpen:g,onClose:te,onAddPlace:function(e,t){var n=e.name,a=e.link;Q.addCard({name:n,link:a}).then((function(e){U([e].concat(Object(r.a)(J))),t(),te()})).catch((function(e){console.log(e)}))}}),s&&Object(A.jsx)(T,{onCloseEscOverlay:ne,isOpen:s,onClose:te,onUpdateAvatar:function(e,t){var n=e.avatar;Q.setAvatarUser({avatar:n}).then((function(e){W(e),t(),te()})).catch((function(e){console.log(e)}))}}),E&&Object(A.jsx)(v,{isOpen:E,onCloseEscOverlay:ne,title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",name:"remove",buttonTitle:"\u0414\u0430",onClose:te,onSubmit:function(e){e.preventDefault(),Q.deleteCard($._id).then((function(){U((function(e){return e.filter((function(e){return e._id!==$._id}))})),te()})).catch((function(e){console.log(e)}))}}),Z.link&&Object(A.jsx)(x,{onCloseEscOverlay:ne,card:Z,onClose:te})]})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),i(e),c(e)}))};c.a.render(Object(A.jsx)(s.a.StrictMode,{children:Object(A.jsx)(o.a,{children:Object(A.jsx)(W,{})})}),document.getElementById("root")),y()}},[[39,1,2]]]);
//# sourceMappingURL=main.6e9ce830.chunk.js.map